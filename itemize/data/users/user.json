{
    "type": "item",
    "properties": [
        {
            "id": "username",
            "type": "string",
            "unique": true,
            "htmlAutocomplete": "username"
        },
        {
            "id": "app_language",
            "type": "string",
            "hidden": true,
            "searchable": false
        },
        {
            "id": "app_country",
            "type": "string",
            "hidden": true,
            "searchable": false
        },
        {
            "id": "app_currency",
            "type": "string",
            "hidden": true,
            "searchable": false
        },
        {
            "id": "email",
            "type": "string",
            "subtype": "email",
            "searchable": false,
            "nullable": true,
            "readRoleAccess": ["&OWNER", "ADMIN"],
            "editRoleAccess": ["&OWNER", "ADMIN"]
        },
        {
            "id": "e_validated",
            "type": "boolean",
            "nullable": true,
            "default": false,
            "searchable": false,
            "createRoleAccess": ["ADMIN"],
            "editRoleAccess": ["ADMIN"],
            "coerceNullsIntoDefault": true
        },
        {
            "id": "password",
            "type": "password",
            "htmlAutocomplete": "current-password",
            "disableRetrieval": true,
            "readRoleAccess": [],
            "editRoleAccess": ["&OWNER", "ADMIN"]
        },
        {
            "id": "role",
            "type": "string",
            "values": "$CONFIG:return config.roles;",
            "nullable": true,
            "default": "USER",
            "editRoleAccess": ["ADMIN"],
            "createRoleAccess": ["ADMIN"],
            "coerceNullsIntoDefault": true
        },
        {
            "id": "profile_picture",
            "type": "files",
            "maxLength": 1,
            "specialProperties": {
                "accept": "image",
                "dimensions": "24 24x24 ; 48 48x48",
                "smallDimension": "96x96",
                "mediumDimension": "128x128",
                "largeDimension": "256x256"
            },
            "nullable": true,
            "editRoleAccess": ["&OWNER", "ADMIN"]
        },
        {
            "id": "address",
            "type": "location",
            "nullable": true,
            "readRoleAccess": ["&OWNER"],
            "searchable": false
        }
    ],
    "policies": {
        "edit": {
            "REQUIRES_PASSWORD_CONFIRMATION": {
                "roles": "$CONFIG:return config.roles.filter((r) => r !== 'ADMIN');",
                "properties": ["password"],
                "applyingProperties": ["username", "password"]
            }
        },
        "delete": {
            "REQUIRES_PASSWORD_CONFIRMATION": {
                "roles": "$CONFIG:return config.roles.filter((r) => r !== 'ADMIN');",
                "properties": ["password"]
            }
        }
    },
    "createRoleAccess": ["&GUEST", "ADMIN"],
    "ownerIsObjectId": true
}